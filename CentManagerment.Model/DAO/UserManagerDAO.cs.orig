using CentManagerment.Model.EF;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace CentManagerment.Model.DAO
{
    public class UserManagerDAO
    {

        CentManagermentEntities db = null;
        // use using to open and close connection

        public bool Insert(UserManager userManager)
        {
            using (db = new CentManagermentEntities())
            {
                db.UserManagers.Add(userManager);
                db.SaveChanges();
            }
            return true;


        }
        // use using to open and close connection

        public bool Update(UserManager userManager)
        {
            using (db = new CentManagermentEntities())
            {
<<<<<<< HEAD
                var userManagerUpdate = db.UserManagers.FirstOrDefault(x => x.UserId == userManager.UserId);
                userManagerUpdate.UserName = userManager.UserName;
=======
                var userManagerUpdate = db.UserManager.FirstOrDefault(x => x.UserId == userManager.UserId);
>>>>>>> 51d58382ea3719aeb6db11c08f8ba3018af009ce
                userManagerUpdate.UserPassword = userManager.UserPassword;
                userManagerUpdate.UserPhoneNumber = userManager.UserPhoneNumber;
                userManagerUpdate.FullName = userManager.FullName;
                userManagerUpdate.UserType = userManager.UserType;
                db.SaveChanges();
            }
            return true;

        }
        // use using to open and close connection

        public bool Delete(UserManager userManager)
        {
            using (db = new CentManagermentEntities())
            {
<<<<<<< HEAD
                db.UserManagers.Remove(userManager);
=======
                var userDelete = db.UserManager.FirstOrDefault(x => x.UserId == userManager.UserId);
                db.UserManager.Remove(userDelete);
>>>>>>> 51d58382ea3719aeb6db11c08f8ba3018af009ce
                db.SaveChanges();
            }
            return true;


        }
    }
}
